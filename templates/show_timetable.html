<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Show Timetable</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2>ðŸ“… Timetable - {{ department }} ({{ year }})</h2>
    <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">â¬… Dashboard</a>
  </div>

  <form method="GET" class="row g-3 mb-4" action="{{ url_for('show_timetable') }}">
    <div class="col-md-4">
      <label class="form-label">Department</label>
      <select class="form-select" name="department">
        <option value="AIML" {% if department=='AIML' %}selected{% endif %}>AIML</option>
        <option value="CSE" {% if department=='CSE' %}selected{% endif %}>CSE</option>
      </select>
    </div>
    <div class="col-md-4">
      <label class="form-label">Year</label>
      <select class="form-select" name="year">
        <option value="SE" {% if year=='SE' %}selected{% endif %}>S.E</option>
        <option value="TE" {% if year=='TE' %}selected{% endif %}>T.E</option>
        <option value="BE" {% if year=='BE' %}selected{% endif %}>B.E</option>
      </select>
    </div>
    <div class="col-md-4 align-self-end">
      <button class="btn btn-primary">Load</button>
    </div>
  </form>

  <table class="table table-bordered">
    <thead class="table-light">
      <tr>
        <th>Day</th>
        {% for i in range(1,8) %}
        <th>Lecture {{ i }}</th>
        {% endfor %}
      </tr>
    </thead>
    <tbody>
      {% for entry in timetable %}
      <tr>
        <td>{{ entry.day }}</td>
        {% for sub in entry.lectures %}
        <td>{{ sub }}</td>
        {% endfor %}
      </tr>
      {% endfor %}
    </tbody>
  </table>

  <a href="{{ url_for('add_timetable') }}" class="btn btn-success">âž• Add / Update Timetable</a>
</body>
</html>
